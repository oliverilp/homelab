apiVersion: v1
kind: Service
metadata:
  name: cilium-ingress
  namespace: kube-system
  annotations:
    io.cilium/lb-ipam-ips: "10.1.1.100"
spec:
  type: LoadBalancer
  ports:
  - name: http
    port: 80
    targetPort: 10080  # Different port - Cilium's actual ingress port
    protocol: TCP
  - name: https
    port: 443
    targetPort: 10443  # Different port - Cilium's actual ingress port
    protocol: TCP
  selector:
    k8s-app: cilium-envoy  # Target the envoy pods
